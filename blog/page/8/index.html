<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>代码人生</title>


<meta name="description" content="Blog of a Coder
">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="代码人生">
<meta property="og:description" content="Blog of a Coder
">
<meta property="og:url" content="http://codelife.me/blog/page/8/index.html">
<meta property="og:site_name" content="代码人生">





<link rel="canonical" href="http://codelife.me/blog/page/8/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="代码人生 Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/assets/css/jquery.mmenu.all.css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">
</head>

<body id="page" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<div class="header-menu header-menu-top">
    <ul class="header-item-container">
      <li class="header-item-title header-toggle "><a href="#menu"><h2><i class="fa fa-bars"></i></h2></a></li>
      <li class="header-item-title">
          
          <h3><a href="/" class="title"> 代码人生 </a><small>简洁就是力量</small></h3>
      </li>
      
        
        

        
            
                <li class="header-item "><a href="/blog/archives/"><h5>存档</h5></a></li>
            
        
      
    </ul>
  </div>

<nav id="menu" style="display: none">
  <ul>
    
      
        <li><a href="/blog/archives/"><h3>存档</h3></a></li>
      
    
  </ul>
</nav>



<div id="main" role="main">
    
<article class="hentry">
  <header>
    
      <h1 class="entry-title">
        <a href="/blog/2012/09/04/tweetbot-for-mac-using-goagent-as-proxy/" rel="bookmark" title="Tweetbot for Mac使用GoAgent代理" itemprop="url">Tweetbot for Mac使用GoAgent代理</a>
      </h1>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2012-09-04T22:45:00+08:00">
            September 04, 2012
        </time>
      </span>
      
    </div><!-- /.entry-meta -->
  </header>
  <div class="entry-content">
    <blockquote>
  <p><a href="http://tapbots.com/blog/news/tweetbot-for-mac-beta-sort-of" title="Tweetbot for Mac">Tweetbot for Mac</a>是MacOS X上推的不二选择，但是该软件的所有版本都没有提供Proxy设置。网上少有几篇关于<a href="http://tapbots.com/software/tweetbot/" title="Tweetbot for iOS">Tweetbot</a>如何使用<a href="http://code.google.com/p/goagent/" title="a gae proxy forked from gappproxy/wallproxy">GoAgent</a>代理上网的教程是针对iOS平台的。</p>
</blockquote>

<p>玩Ubuntu的时候有个工具软件可以作为启动器启动另一个软件，然后让被启动的软件使用该工具软件设定好的代理上网。这个工具可以解决需要使用代理上网但软件自身未提供代理配置功能的问题。</p>


		<a href="/blog/2012/09/04/tweetbot-for-mac-using-goagent-as-proxy/" class="more-link">继续阅读 &rarr;</a>
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <h1 class="entry-title">
        <a href="/blog/2012/09/03/goagent-run-as-deamon-in-macos-x/" rel="bookmark" title="MacOS X将GoAgent配置为后台服务" itemprop="url">MacOS X将GoAgent配置为后台服务</a>
      </h1>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2012-09-03T22:22:00+08:00">
            September 03, 2012
        </time>
      </span>
      
    </div><!-- /.entry-meta -->
  </header>
  <div class="entry-content">
    <blockquote>
  <p><a href="http://code.google.com/p/goagent/" title="GoAgent">GoAgent</a>官方推荐使用<a href="https://goagent.googlecode.com/files/GoAgentMac.dmg" title="GoAgent Mac GUI">GoAgent Mac GUI</a>或者<a href="https://github.com/ohdarling/GoAgentX" title="GoAgentX">GoAgentX</a>作为Mac下的客户端，<a href="https://goagent.googlecode.com/files/GoAgentMac.dmg" title="GoAgent Mac GUI">GoAgent Mac GUI</a>不支持随机启动，图标太难看。<a href="https://github.com/ohdarling/GoAgentX" title="GoAgentX">GoAgentX</a>图标和功能都不错，但是内置的goagent版本不是最新的。所有自己折腾了一下使用Mac下的LaunchAgent机制将goagent配置成自启动的后台服务。</p>
</blockquote>

<h2 id="plist">新建plist文件</h2>
<p>在<code>~/Library/LaunchAgents/</code>目录里新建<code>com.googlecode.goagent.plist</code>文件。</p>


		<a href="/blog/2012/09/03/goagent-run-as-deamon-in-macos-x/" class="more-link">继续阅读 &rarr;</a>
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <h1 class="entry-title">
        <a href="/blog/2012/09/02/custom-domain-for-octopress/" rel="bookmark" title="为Octopress博客设置个性化域名" itemprop="url">为Octopress博客设置个性化域名</a>
      </h1>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2012-09-02T20:31:00+08:00">
            September 02, 2012
        </time>
      </span>
      
    </div><!-- /.entry-meta -->
  </header>
  <div class="entry-content">
    <p>其实挺简单的，官方文档也写的很清晰，不过还是碰到了让人受挫的404错误。</p>

<h2 id="cname">添加CNAME文件</h2>

<pre><code>echo 'your-domain.com' &gt;&gt; source/CNAME
</code></pre>


		<a href="/blog/2012/09/02/custom-domain-for-octopress/" class="more-link">继续阅读 &rarr;</a>
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <h1 class="entry-title">
        <a href="/blog/2012/09/02/how-to-set-proxy-for-terminal/" rel="bookmark" title="如何为MacOS X终端设置代理" itemprop="url">如何为MacOS X终端设置代理</a>
      </h1>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2012-09-02T04:06:00+08:00">
            September 02, 2012
        </time>
      </span>
      
    </div><!-- /.entry-meta -->
  </header>
  <div class="entry-content">
    <blockquote>
  <p>本文介绍如何在MacOS X终端里使用代理访问网络,虽然只在Mountain Lion下测试，但同样适用于装有Bash的系统。</p>
</blockquote>

<p>实在无法忍受<a href="http://www.linode.com/" title="linode">linode</a>日本机房的高延迟，动手配置了一个<a href="http://code.google.com/p/goagent/" title="goagent">goagent</a>服务。但是HTTP代理和VPN不同，没法全局代理（<em>至少不能简单配置</em>），在Terminal里下载最新版本的Ruby，奇慢无比，下面介绍如何让Terminal里执行的程序使用<a href="http://code.google.com/p/goagent/" title="goagent">goagent</a>代理。</p>


		<a href="/blog/2012/09/02/how-to-set-proxy-for-terminal/" class="more-link">继续阅读 &rarr;</a>
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <h1 class="entry-title">
        <a href="/blog/2012/09/01/ssh-session-profile-management-in-terminal-of-macos-x/" rel="bookmark" title="MacOS X终端里SSH会话管理" itemprop="url">MacOS X终端里SSH会话管理</a>
      </h1>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2012-09-01T23:31:00+08:00">
            September 01, 2012
        </time>
      </span>
      
    </div><!-- /.entry-meta -->
  </header>
  <div class="entry-content">
    <blockquote>
  <p>本文介绍如何在终端里使用ssh命令方便的管理常用的ssh访问会话，主要针对MacOS X系统编纂，并在Mountain Lion下测试通过。但是同样适用与安装有Bash终端的*uix系统。</p>
</blockquote>

<p>虽然windows没有对SSH的原生支持，但是<a href="http://www.netsarang.com/products/xsh_overview.html">XShell</a>和<a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html" title="Putty">Putty</a>都挺好用的。日常工作需要维护多台linux服务器，用户名和密码多了记不住，所有非常依赖会话记忆功能。</p>


		<a href="/blog/2012/09/01/ssh-session-profile-management-in-terminal-of-macos-x/" class="more-link">继续阅读 &rarr;</a>
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <h1 class="entry-title">
        <a href="/blog/2007/01/16/convert-java-objects-to-xml-with-caster/" rel="bookmark" title="使用Castor实现对象数据绑定" itemprop="url">使用Castor实现对象数据绑定</a>
      </h1>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2007-01-16T19:11:07+08:00">
            January 16, 2007
        </time>
      </span>
      
    </div><!-- /.entry-meta -->
  </header>
  <div class="entry-content">
    <blockquote>
  <p>在项目需要从配置文件中读取一些数据，
yaml的作为一种可选的非XML方案已经宣告失败，
同事给我推荐了另外两个XML的解决方案：
<a href="http://www.castor.org/">Castor</a>或者<a href="http://jakarta.apache.org/commons/digester/">Digester</a></p>
</blockquote>

<ul>
  <li>Castor是一种将Java对象和XML自动绑定的开源软件. 它可以在Java对象,XML文本,SQL数据表以及LDAP目录之间绑定.</li>
  <li>Digester原是Apache Jakarta Struts计划中的一部分，用来解析Web App中的XML配置文件，在开发一段时间之后，开发人员觉得这个小工具具有很普遍的使用场合，于是，将这个部分独立出来，放到Commons项目中。</li>
</ul>

<p>由于Digester只是支持由XML到JavaBean的单向转换，而我的项目还需要能够从JavaBean到XML的转换。
所以我选择了Castor。</p>

<p>下面是Castor的例子</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">SearchField.java</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">scbit</span><span class="o">.</span><span class="na">lentinus</span><span class="o">.</span><span class="na">domain</span><span class="o">;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kd">public</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kd">class</span> <span class="nc">SearchField</span> <span class="o">&#x7b;</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Table</span><span class="o">&gt;</span> <span class="n">tables</span><span class="o">;</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="nf">SearchField</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">this</span><span class="o">.</span><span class="na">tables</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Table</span><span class="o">&gt;();</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Table</span><span class="o">&gt;</span> <span class="nf">getTables</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">return</span>
</div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="n">tables</span><span class="o">;</span>
</div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span>
</div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kt">void</span> <span class="nf">addTable</span><span class="o">(</span><span class="n">Table</span> <span class="n">table</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">this</span><span class="o">.</span><span class="na">tables</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">table</span><span class="o">);</span>
</div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="24" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="o">&#x7d;</span></div></div></pre></div></figure>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">Table.java</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">scbit</span><span class="o">.</span><span class="na">lentinus</span><span class="o">.</span><span class="na">domain</span><span class="o">;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kd">public</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kd">class</span> <span class="nc">Table</span> <span class="o">&#x7b;</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="n">String</span> <span class="n">tableDisplayName</span><span class="o">;</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="n">String</span> <span class="n">tableClass</span><span class="o">;</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Field</span><span class="o">&gt;</span> <span class="n">fields</span><span class="o">;</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="nf">Table</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">this</span><span class="o">.</span><span class="na">fields</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Field</span><span class="o">&gt;();</span>
</div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Field</span><span class="o">&gt;</span> <span class="nf">getFields</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">return</span> <span class="n">fields</span><span class="o">;</span>
</div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addField</span><span class="o">(</span><span class="n">Field</span> <span class="n">field</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="24" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">this</span><span class="o">.</span><span class="na">fields</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>
</div></div><div data-line="25" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="26" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="27" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getTableClass</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="28" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">return</span> <span class="n">tableClass</span><span class="o">;</span>
</div></div><div data-line="29" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="30" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="31" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTableClass</span><span class="o">(</span><span class="n">String</span> <span class="n">tableClass</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="32" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">this</span><span class="o">.</span><span class="na">tableClass</span> <span class="o">=</span> <span class="n">tableClass</span><span class="o">;</span>
</div></div><div data-line="33" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="34" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="35" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getTableDisplayName</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="36" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">return</span> <span class="n">tableDisplayName</span><span class="o">;</span>
</div></div><div data-line="37" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="38" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="39" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTableDisplayName</span><span class="o">(</span><span class="n">String</span> <span class="n">tableDisplayName</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="40" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="k">this</span><span class="o">.</span><span class="na">tableDisplayName</span> <span class="o">=</span> <span class="n">tableDisplayName</span><span class="o">;</span>
</div></div><div data-line="41" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="42" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="o">&#x7d;</span></div></div></pre></div></figure>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">Field.java</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">scbit</span><span class="o">.</span><span class="na">lentinus</span><span class="o">.</span><span class="na">domain</span><span class="o">;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kd">public</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kd">class</span> <span class="nc">Field</span> <span class="o">&#x7b;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="nf">Field</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="n">String</span> <span class="n">fieldDisplay</span><span class="o">;</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="n">String</span> <span class="n">fieldName</span><span class="o">;</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getFieldDisplay</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">return</span> <span class="n">fieldDisplay</span><span class="o">;</span>
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setFieldDisplay</span><span class="o">(</span><span class="n">String</span> <span class="n">fieldDisplay</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">this</span><span class="o">.</span><span class="na">fieldDisplay</span> <span class="o">=</span> <span class="n">fieldDisplay</span><span class="o">;</span>
</div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getFieldName</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">return</span> <span class="n">fieldName</span><span class="o">;</span>
</div></div><div data-line="24" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="25" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="26" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setFieldName</span><span class="o">(</span><span class="n">String</span> <span class="n">fieldName</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="27" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">this</span><span class="o">.</span><span class="na">fieldName</span> <span class="o">=</span> <span class="n">fieldName</span><span class="o">;</span>
</div></div><div data-line="28" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="29" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="30" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="o">&#x7d;</span></div></div></pre></div></figure>
<p>转换代码</p>
<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nd">@Test</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testField</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">&#x7b;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">SearchField</span> <span class="n">searchField</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">SearchField</span><span class="o">();</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">Table</span> <span class="n">table</span><span class="o">;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">Field</span> <span class="n">field</span><span class="o">;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">table</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Table</span><span class="o">();</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">table</span><span class="o">.</span><span class="na">setTableDisplayName</span><span class="o">(</span><span class="s">&quot;级别信息&quot;</span><span class="o">);</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">table</span><span class="o">.</span><span class="na">setTableClass</span><span class="o">(</span><span class="s">&quot;TbBasicInfor&quot;</span><span class="o">);</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Field</span><span class="o">();</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">field</span><span class="o">.</span><span class="na">setFieldDisplay</span><span class="o">(</span><span class="s">&quot;拉丁学名&quot;</span><span class="o">);</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">field</span><span class="o">.</span><span class="na">setFieldName</span><span class="o">(</span><span class="s">&quot;latinName&quot;</span><span class="o">);</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">table</span><span class="o">.</span><span class="na">addField</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Field</span><span class="o">();</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">field</span><span class="o">.</span><span class="na">setFieldDisplay</span><span class="o">(</span><span class="s">&quot;拉丁别名&quot;</span><span class="o">);</span>
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">field</span><span class="o">.</span><span class="na">setFieldName</span><span class="o">(</span><span class="s">&quot;latinAlias&quot;</span><span class="o">);</span>
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">table</span><span class="o">.</span><span class="na">addField</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>
</div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">searchField</span><span class="o">.</span><span class="na">addTable</span><span class="o">(</span><span class="n">table</span><span class="o">);</span>
</div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="c1">// write it out as XML</span>
</div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">File</span><span class="o">(</span>
</div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="s">&quot;D:\\dev\\workplace\\eclipse_workspace\\LentinusEdodes\\WebRoot\\WEB-INF\\conf\\searchField.xml&quot;</span><span class="o">);</span>
</div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">Writer</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">OutputStreamWriter</span><span class="o">(</span><span class="k">new</span> <span class="nf">FileOutputStream</span><span class="o">(</span><span class="n">file</span><span class="o">),</span>
</div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="s">&quot;utf-8&quot;</span><span class="o">);</span>
</div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">Marshaller</span> <span class="n">marshaller</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Marshaller</span><span class="o">(</span><span class="n">writer</span><span class="o">);</span>
</div></div><div data-line="24" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">marshaller</span><span class="o">.</span><span class="na">setEncoding</span><span class="o">(</span><span class="s">&quot;utf-8&quot;</span><span class="o">);</span> <span class="c1">// 关键</span>
</div></div><div data-line="25" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">marshaller</span><span class="o">.</span><span class="na">marshal</span><span class="o">(</span><span class="n">searchField</span><span class="o">);</span>
</div></div><div data-line="26" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="c1">// now restore the value and list what we get</span>
</div></div><div data-line="27" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">Reader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="k">new</span> <span class="nf">FileInputStream</span><span class="o">(</span><span class="n">file</span><span class="o">),</span>
</div></div><div data-line="28" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="s">&quot;utf-8&quot;</span><span class="o">);</span>
</div></div><div data-line="29" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">SearchField</span> <span class="n">read</span> <span class="o">=</span> <span class="o">(</span><span class="n">SearchField</span><span class="o">)</span> <span class="n">Unmarshaller</span><span class="o">.</span><span class="na">unmarshal</span><span class="o">(</span>
</div></div><div data-line="30" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="n">SearchField</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">reader</span><span class="o">);</span>
</div></div><div data-line="31" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="32" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">assertTrue</span><span class="o">(</span><span class="n">read</span><span class="o">.</span><span class="na">getTables</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getTableDisplayName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;级别信息&quot;</span><span class="o">));</span>
</div></div><div data-line="33" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</div></div><div data-line="34" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</div></div><div data-line="35" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="36" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span></div></div></pre></div></figure>

<p>转换后的XML文件</p>

<p>searchField.xml</p>
<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;search-field&gt;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;tables</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="na">xsi:type=</span><span class="s">&quot;java:org.scbit.lentinus.domain.Table&quot;</span><span class="nt">&gt;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nt">&lt;fields</span> <span class="na">xsi:type=</span><span class="s">&quot;java:org.scbit.lentinus.domain.Field&quot;</span><span class="nt">&gt;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="nt">&lt;field-display&gt;</span>拉丁学名<span class="nt">&lt;/field-display&gt;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="nt">&lt;field-name&gt;</span>latinName<span class="nt">&lt;/field-name&gt;</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nt">&lt;/fields&gt;</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nt">&lt;fields</span> <span class="na">xsi:type=</span><span class="s">&quot;java:org.scbit.lentinus.domain.Field&quot;</span><span class="nt">&gt;</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="nt">&lt;field-display&gt;</span>拉丁别名<span class="nt">&lt;/field-display&gt;</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="nt">&lt;field-name&gt;</span>latinAlias<span class="nt">&lt;/field-name&gt;</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nt">&lt;/fields&gt;</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nt">&lt;table-class&gt;</span>TbBasicInfor<span class="nt">&lt;/table-class&gt;</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="nt">&lt;table-display-name&gt;</span>级别信息<span class="nt">&lt;/table-display-name&gt;</span>
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;/tables&gt;</span>
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;/search-field&gt;</span></div></div></pre></div></figure>

<p>Castor使用起来还是比较简单的，但在读取中文的时候，要注意可能会有乱码问题，在它官方的FAQ中有相应的解释和解决方法。
&gt; How do I set the encoding?
Create a new instance of the Marshaller class and use the setEncoding method. You’ll also need to make sure the encoding for the Writer is set properly as well: 
…
String encoding = “ISO-8859-1”;
FileOutputStream fos = new FileOutputStream(“result.xml”);
OutputStreamWriter osw = new OuputStreamWriter(fos, encoding);
Marshaller marshaller = new Marshaller(osw);
marshaller.setEncoding(encoding);
…</p>

<h3 id="section">参考文章</h3>

<ol>
  <li><a href="http://www.ibm.com/developerworks/cn/xml/x-bindcastor/">XML 与 Java 技术: 用 Castor 进行数据绑定</a></li>
  <li><a href="http://www-128.ibm.com/developerworks/cn/java/j-castor/index.html">Castor JDO 入门</a></li>
  <li><a href="http://www.blogchinese.com/06081/242496/archives/2006/200693205223.shtml">学习Digester笔记</a></li>
</ol>


		
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <h1 class="entry-title">
        <a href="/blog/2007/01/16/comments-of-jyaml/" rel="bookmark" title="JYaml使用心得" itemprop="url">JYaml使用心得</a>
      </h1>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2007-01-16T00:29:08+08:00">
            January 16, 2007
        </time>
      </span>
      
    </div><!-- /.entry-meta -->
  </header>
  <div class="entry-content">
    <blockquote>
  <p>前不久在《程序员》上看到了关于Yaml的介绍。
据说是现在Ruby下用的很火的配置文件。
在其官方站点有其对文件格式的一些简单介绍。
在sourceforge上也有两个开源的yaml配置文件的解析包JYaml和Yaml4J
另外在dev.java.net上有另一个解析包Jvyaml，由于找不到文档就没有进一步的研究。</p>
</blockquote>

<p>公司的最近的一个项目需要从配置文件中读取结构化的数据，需要一个POJO类的反序列化。
于是迫不及待的想体验新技术，
虽然我不是第一个吃螃蟹的，但还是付出了不少的代价。</p>

<p>Yaml4J比较弱一点，只提供了Loader/Dumper方法。
相比之下,JYaml的提供的序列化和反序列化的方法多多了，
而且不但支持List和Map这两种yaml中主要的数据结构，
还支持Date，String，Double，BigInteger 和BigDecimal，
特别是它支持javabean的反序列化。</p>

<p>于是我在eclipse下写了一个官方提供的例子。简单的测试，一切运行正常。</p>

<p>下面是我项目中的例子：</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">SearchField.java</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">scbit</span><span class="o">.</span><span class="na">lentinus</span><span class="o">.</span><span class="na">domain</span><span class="o">;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SearchField</span> <span class="o">&#x7b;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="n">Table</span><span class="o">[]</span> <span class="n">tables</span><span class="o">;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="n">Table</span><span class="o">[]</span> <span class="nf">getTables</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">return</span> <span class="n">tables</span><span class="o">;</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTables</span><span class="o">(</span><span class="n">Table</span><span class="o">[]</span> <span class="n">tables</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">this</span><span class="o">.</span><span class="na">tables</span> <span class="o">=</span> <span class="n">tables</span><span class="o">;</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="o">&#x7d;</span></div></div></pre></div></figure>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">Table.java</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">scbit</span><span class="o">.</span><span class="na">lentinus</span><span class="o">.</span><span class="na">domain</span><span class="o">;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">import</span> <span class="nn">java.io.UnsupportedEncodingException</span><span class="o">;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">import</span> <span class="nn">org.apache.commons.logging.Log</span><span class="o">;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">import</span> <span class="nn">org.apache.commons.logging.LogFactory</span><span class="o">;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Table</span> <span class="o">&#x7b;</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="kd">static</span> <span class="n">Log</span> <span class="n">log</span> <span class="o">=</span> <span class="n">LogFactory</span><span class="o">.</span><span class="na">getLog</span><span class="o">(</span><span class="n">Table</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="n">String</span> <span class="n">tableDisplayName</span><span class="o">;</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="n">String</span> <span class="n">tableClass</span><span class="o">;</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="n">Field</span><span class="o">[]</span> <span class="n">fields</span><span class="o">;</span>
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="n">Field</span><span class="o">[]</span> <span class="nf">getFields</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">return</span> <span class="n">fields</span><span class="o">;</span>
</div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setFields</span><span class="o">(</span><span class="n">Field</span><span class="o">[]</span> <span class="n">fields</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">this</span><span class="o">.</span><span class="na">fields</span> <span class="o">=</span> <span class="n">fields</span><span class="o">;</span>
</div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="24" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="25" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getTableClass</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="26" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">return</span> <span class="n">tableClass</span><span class="o">;</span>
</div></div><div data-line="27" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="28" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="29" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTableClass</span><span class="o">(</span><span class="n">String</span> <span class="n">tableClass</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="30" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">this</span><span class="o">.</span><span class="na">tableClass</span> <span class="o">=</span> <span class="n">tableClass</span><span class="o">;</span>
</div></div><div data-line="31" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="32" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="33" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getTableDisplayName</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="34" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">return</span> <span class="n">tableDisplayName</span><span class="o">;</span>
</div></div><div data-line="35" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="36" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="37" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTableDisplayName</span><span class="o">(</span><span class="n">String</span> <span class="n">tableDisplayName</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="38" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">try</span> <span class="o">&#x7b;</span>
</div></div><div data-line="39" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="k">this</span><span class="o">.</span><span class="na">tableDisplayName</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">String</span><span class="o">(</span><span class="n">tableDisplayName</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span>
</div></div><div data-line="40" class="code-highlight-row numbered"><div class="code-highlight-line">                    <span class="s">&quot;utf-8&quot;</span><span class="o">);</span>
</div></div><div data-line="41" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="o">&#x7d;</span> <span class="k">catch</span> <span class="o">(</span><span class="n">UnsupportedEncodingException</span> <span class="n">e</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="42" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="n">log</span><span class="o">.</span><span class="na">error</span><span class="o">(</span><span class="s">&quot;Table.setTableDisplayName UnsupportedEncodingException&quot;</span><span class="o">);</span>
</div></div><div data-line="43" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</div></div><div data-line="44" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="o">&#x7d;</span>
</div></div><div data-line="45" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="46" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="o">&#x7d;</span></div></div></pre></div></figure>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">Field.java</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">scbit</span><span class="o">.</span><span class="na">lentinus</span><span class="o">.</span><span class="na">domain</span><span class="o">;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">import</span> <span class="nn">java.io.UnsupportedEncodingException</span><span class="o">;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">import</span> <span class="nn">org.apache.commons.logging.Log</span><span class="o">;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kn">import</span> <span class="nn">org.apache.commons.logging.LogFactory</span><span class="o">;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Field</span> <span class="o">&#x7b;</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="kd">static</span> <span class="n">Log</span> <span class="n">log</span> <span class="o">=</span> <span class="n">LogFactory</span><span class="o">.</span><span class="na">getLog</span><span class="o">(</span><span class="n">Field</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="nf">Field</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="n">String</span> <span class="n">fieldDisplay</span><span class="o">;</span>
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">private</span> <span class="n">String</span> <span class="n">fieldName</span><span class="o">;</span>
</div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getFieldDisplay</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">return</span> <span class="n">fieldDisplay</span><span class="o">;</span>
</div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setFieldDisplay</span><span class="o">(</span><span class="n">String</span> <span class="n">fieldDisplay</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">try</span> <span class="o">&#x7b;</span>
</div></div><div data-line="24" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="k">this</span><span class="o">.</span><span class="na">fieldDisplay</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">String</span><span class="o">(</span><span class="n">fieldDisplay</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="s">&quot;utf-8&quot;</span><span class="o">);</span>
</div></div><div data-line="25" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="o">&#x7d;</span> <span class="k">catch</span> <span class="o">(</span><span class="n">UnsupportedEncodingException</span> <span class="n">e</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="26" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="n">log</span><span class="o">.</span><span class="na">error</span><span class="o">(</span><span class="s">&quot;Field.setFieldDisplay UnsupportedEncodingException&quot;</span><span class="o">);</span>
</div></div><div data-line="27" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</div></div><div data-line="28" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="o">&#x7d;</span>
</div></div><div data-line="29" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="30" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="31" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getFieldName</span><span class="o">()</span> <span class="o">&#x7b;</span>
</div></div><div data-line="32" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">return</span> <span class="n">fieldName</span><span class="o">;</span>
</div></div><div data-line="33" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="34" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="35" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setFieldName</span><span class="o">(</span><span class="n">String</span> <span class="n">fieldName</span><span class="o">)</span> <span class="o">&#x7b;</span>
</div></div><div data-line="36" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="k">this</span><span class="o">.</span><span class="na">fieldName</span> <span class="o">=</span> <span class="n">fieldName</span><span class="o">;</span>
</div></div><div data-line="37" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span>
</div></div><div data-line="38" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="39" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="o">&#x7d;</span></div></div></pre></div></figure>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">searchField.yml</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="l-Scalar-Plain">—</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="l-Scalar-Plain">tables</span><span class="p-Indicator">:</span> 
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">tableDisplayName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">基本信息</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="l-Scalar-Plain">tableClass</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">TbBasicInfor</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="l-Scalar-Plain">fields</span><span class="p-Indicator">:</span> 
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">拉丁学名</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">latinName</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="l-Scalar-Plain">- fieldDisplay</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">拉丁别名</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">latinAlias</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="l-Scalar-Plain">- fieldDisplay</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">中文名</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:chineseName</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="l-Scalar-Plain">- fieldDisplay:中文别名</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:chineseAlias</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="l-Scalar-Plain">- fieldDispaly:品种代号</span>
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:speciesCode</span>
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="l-Scalar-Plain">- fieldDispaly:来源单位</span>
</div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:sourceCompany</span>
</div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">- tableDisplayName:育种者</span>
</div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="l-Scalar-Plain">tableClass:TbCultivator</span>
</div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="l-Scalar-Plain">fields</span><span class="p-Indicator">:</span>    
</div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay:育种者姓名</span>
</div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:cultivator</span>
</div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay:单位</span>
</div></div><div data-line="24" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:cultivationCompany</span>
</div></div><div data-line="25" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay:地址</span>
</div></div><div data-line="26" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:cultivationAddress</span>
</div></div><div data-line="27" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay:电话</span>
</div></div><div data-line="28" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:telephone</span>
</div></div><div data-line="29" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay:邮编</span>
</div></div><div data-line="30" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:zipCode</span>
</div></div><div data-line="31" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay:鉴定单位</span>
</div></div><div data-line="32" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:appraisalOrganization</span>
</div></div><div data-line="33" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay:获奖</span>
</div></div><div data-line="34" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:award</span>
</div></div><div data-line="35" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay:应用</span>
</div></div><div data-line="36" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:application</span>                                    
</div></div><div data-line="37" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="-Error">    </span><span class="p-Indicator">-</span>     <span class="l-Scalar-Plain">tableDisplayName:菌落</span>
</div></div><div data-line="38" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="l-Scalar-Plain">tableClass:TbColony</span>
</div></div><div data-line="39" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="l-Scalar-Plain">fields</span><span class="p-Indicator">:</span>
</div></div><div data-line="40" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay:菌丝被膜的形成</span>
</div></div><div data-line="41" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:myceliumCapsule</span>
</div></div><div data-line="42" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay:菌丝密度</span>
</div></div><div data-line="43" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:myceliumDensity</span>
</div></div><div data-line="44" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay:菌落表面颜色</span>
</div></div><div data-line="45" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:surfaceColor</span>
</div></div><div data-line="46" class="code-highlight-row numbered"><div class="code-highlight-line">            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">fieldDisplay:拮抗现象</span>
</div></div><div data-line="47" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="l-Scalar-Plain">fieldName:antagonisticPhenomenon</span></div></div></pre></div></figure>
<p>下面是测试代码：</p>

<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nd">@Test</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testField</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">&#x7b;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">File</span> <span class="n">yamlfile</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">File</span><span class="o">(</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">                <span class="s">&quot;D:\\dev\\workplace\\eclipse_workspace\\LentinusEdodes\\src\\test\\org\\scbit\\lentinus\\domain\\searchField.yml&quot;</span><span class="o">);</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">SearchField</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">Yaml</span><span class="o">.</span><span class="na">loadType</span><span class="o">(</span><span class="n">yamlfile</span><span class="o">,</span> <span class="n">SearchField</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">getTables</span><span class="o">()[</span><span class="mi">0</span><span class="o">].</span><span class="na">getFields</span><span class="o">()[</span><span class="mi">0</span><span class="o">].</span><span class="na">getFieldName</span><span class="o">());</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getTables</span><span class="o">()[</span><span class="mi">0</span><span class="o">].</span><span class="na">getFields</span><span class="o">()[</span><span class="mi">1</span><span class="o">].</span><span class="na">getFieldDisplay</span><span class="o">();</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">new</span> <span class="nf">String</span><span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="s">&quot;gbk&quot;</span><span class="o">));</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="o">&#x7d;</span></div></div></pre></div></figure>
<p>测试结果：</p>

<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="n">latinName</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">ArrayIndexOutOfBoundsException</span><span class="o">:</span> <span class="mi">1</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">scbit</span><span class="o">.</span><span class="na">lentinus</span><span class="o">.</span><span class="na">domain</span><span class="o">.</span><span class="na">TestSearchField</span><span class="o">.</span><span class="na">testField</span><span class="o">(</span><span class="n">TestSearchField</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">48</span><span class="o">)</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">sun</span><span class="o">.</span><span class="na">reflect</span><span class="o">.</span><span class="na">NativeMethodAccessorImpl</span><span class="o">.</span><span class="na">invoke0</span><span class="o">(</span><span class="n">Native</span> <span class="n">Method</span><span class="o">)</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">sun</span><span class="o">.</span><span class="na">reflect</span><span class="o">.</span><span class="na">NativeMethodAccessorImpl</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">Unknown</span> <span class="n">Source</span><span class="o">)</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">sun</span><span class="o">.</span><span class="na">reflect</span><span class="o">.</span><span class="na">DelegatingMethodAccessorImpl</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">Unknown</span> <span class="n">Source</span><span class="o">)</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">reflect</span><span class="o">.</span><span class="na">Method</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">Unknown</span> <span class="n">Source</span><span class="o">)</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">runners</span><span class="o">.</span><span class="na">TestMethodRunner</span><span class="o">.</span><span class="na">executeMethodBody</span><span class="o">(</span><span class="n">TestMethodRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">99</span><span class="o">)</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">runners</span><span class="o">.</span><span class="na">TestMethodRunner</span><span class="o">.</span><span class="na">runUnprotected</span><span class="o">(</span><span class="n">TestMethodRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">81</span><span class="o">)</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">runners</span><span class="o">.</span><span class="na">BeforeAndAfterRunner</span><span class="o">.</span><span class="na">runProtected</span><span class="o">(</span><span class="n">BeforeAndAfterRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">34</span><span class="o">)</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">runners</span><span class="o">.</span><span class="na">TestMethodRunner</span><span class="o">.</span><span class="na">runMethod</span><span class="o">(</span><span class="n">TestMethodRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">75</span><span class="o">)</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">runners</span><span class="o">.</span><span class="na">TestMethodRunner</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">TestMethodRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">45</span><span class="o">)</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">runners</span><span class="o">.</span><span class="na">TestClassMethodsRunner</span><span class="o">.</span><span class="na">invokeTestMethod</span><span class="o">(</span><span class="n">TestClassMethodsRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">71</span><span class="o">)</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">runners</span><span class="o">.</span><span class="na">TestClassMethodsRunner</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">TestClassMethodsRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">35</span><span class="o">)</span>
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">runners</span><span class="o">.</span><span class="na">TestClassRunner$1</span><span class="o">.</span><span class="na">runUnprotected</span><span class="o">(</span><span class="n">TestClassRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">42</span><span class="o">)</span>
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">runners</span><span class="o">.</span><span class="na">BeforeAndAfterRunner</span><span class="o">.</span><span class="na">runProtected</span><span class="o">(</span><span class="n">BeforeAndAfterRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">34</span><span class="o">)</span>
</div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">runners</span><span class="o">.</span><span class="na">TestClassRunner</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">TestClassRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">52</span><span class="o">)</span>
</div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">eclipse</span><span class="o">.</span><span class="na">jdt</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">junit4</span><span class="o">.</span><span class="na">runner</span><span class="o">.</span><span class="na">JUnit4TestReference</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">JUnit4TestReference</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">38</span><span class="o">)</span>
</div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">eclipse</span><span class="o">.</span><span class="na">jdt</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">runner</span><span class="o">.</span><span class="na">TestExecution</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">TestExecution</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">38</span><span class="o">)</span>
</div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">eclipse</span><span class="o">.</span><span class="na">jdt</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">runner</span><span class="o">.</span><span class="na">RemoteTestRunner</span><span class="o">.</span><span class="na">runTests</span><span class="o">(</span><span class="n">RemoteTestRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">460</span><span class="o">)</span>
</div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">eclipse</span><span class="o">.</span><span class="na">jdt</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">runner</span><span class="o">.</span><span class="na">RemoteTestRunner</span><span class="o">.</span><span class="na">runTests</span><span class="o">(</span><span class="n">RemoteTestRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">673</span><span class="o">)</span>
</div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">eclipse</span><span class="o">.</span><span class="na">jdt</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">runner</span><span class="o">.</span><span class="na">RemoteTestRunner</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">RemoteTestRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">386</span><span class="o">)</span>
</div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">eclipse</span><span class="o">.</span><span class="na">jdt</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">runner</span><span class="o">.</span><span class="na">RemoteTestRunner</span><span class="o">.</span><span class="na">main</span><span class="o">(</span><span class="n">RemoteTestRunner</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">196</span><span class="o">)</span></div></div></pre></div></figure>
<p>JYaml在解析多层嵌套的数据结构的时候有问题，
具体来说，在层次结构较深时Array只能解析出第一元素，即[0]。
但这个在解析时并不会抛出错误。
这个问题至今没有解决。
我使用的JYaml版本是jyaml-lib-14-1.0-beta-3.jar
不知道是我的配置文件写得有问题，还是beta般的bug。</p>

<p>另外在中文支持方面也有所欠缺，直接读取utf-8格式的中文会出现乱码，需要自己转码：
		this.fieldDisplay = new String(fieldDisplay.getBytes(), “utf-8”);
当然你也可以帮你的yml文件的格式改为iso-8859-1不过在这种编码状态下你的中文是乱码。
希望今后的版本能有所改进。</p>


		
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <h1 class="entry-title">
        <a href="/blog/2007/01/12/using-struts-html-link-as-cascading-query/" rel="bookmark" title="使用Struts里html:link标签 的name,paramId,paramName和paramProperty四个属性实现多级查询间相互跳转" itemprop="url">使用Struts里html:link标签 的name,paramId,paramName和paramProperty四个属性实现多级查询间相互跳转</a>
      </h1>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2007-01-12T23:54:39+08:00">
            January 12, 2007
        </time>
      </span>
      
    </div><!-- /.entry-meta -->
  </header>
  <div class="entry-content">
    <blockquote>
  <p>看了一些使用html:link的文章，大多只是说了paramId结合paramName和paramProperty的使用。下面将会用到name，paramId，paramName和paramProperty一起使用的效果。</p>
</blockquote>


		<a href="/blog/2007/01/12/using-struts-html-link-as-cascading-query/" class="more-link">继续阅读 &rarr;</a>
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <h1 class="entry-title">
        <a href="/blog/2007/01/12/multiple-user-login-to-windows-xp-sp2-remotely/" rel="bookmark" title="Windows XP SP2远程桌面多用户访问" itemprop="url">Windows XP SP2远程桌面多用户访问</a>
      </h1>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2007-01-12T23:41:26+08:00">
            January 12, 2007
        </time>
      </span>
      
    </div><!-- /.entry-meta -->
  </header>
  <div class="entry-content">
    <blockquote>
  <p>winxp sp2 的早期版本5.1.2600.2055 (xpsp_sp2_beta1.031215-1745)可以配置成远程界面多用户访问。本文介绍通过替换系统文件termsrv.dll的方式让正式版本的winxp sp2支持多用户远程登录。</p>
</blockquote>

<p>下面的脚步是用来进行文件替换，注册表修改等相关配置的，
将分隔线中的代码拷贝到记事本中，重命名为clickme.cmd，
然后放到与termsrv.dll同一目录双击运行即可。
记得要重启电脑哦。</p>

<pre><code>rem 修改注册表值
@echo off
setlocal
set regkey="HKLM\SYSTEM\CurrentControlSet\Control\Terminal Server\Licensing Core"
reg add %regkey% /v EnableConcurrentSessions /T REG_DWORD /D 1 /f
endlocal
rem 替换termsvr.dll文件
mkdir .\temp
copy .\termsrv.dll .\temp\termsrv.dll
replace .\temp\termsrv.dll %windir%\system32\dllcache
del /Q .\temp\termsrv.dll
copy .\termsrv.dll .\temp\termsrv.dll
TASKKILL /F /FI "MODULES eq termsrv.dll"
shutdown -a
replace .\temp\termsrv.dll %windir%\system32  
del /Q .\temp\termsrv.dll
rmdir /Q .\temp
rem 启动相关系统服务
call %windir%\system32\svchost.exe -k DComLaunch
call %windir%\system32\svchost.exe -k netsvcs
</code></pre>

<p>相关文件下载</p>

<p><a href="http://windtear.net/images/termsrv.dll">termsrv.dll</a></p>

<h3 id="section">参考文章</h3>
<ol>
  <li><a href="http://windtear.net/archives/2006/04/13/000960.html">打开 XP Pro SP2 远程桌面的多用户支持 Enable Concurrent Sessions</a></li>
</ol>


		
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <h1 class="entry-title">
        <a href="/blog/2007/01/12/caculate-collection-size-in-jsp-el/" rel="bookmark" title="在JSP中使用EL计算Colloction的大小" itemprop="url">在JSP中使用EL计算Colloction的大小</a>
      </h1>
    
    <div class="entry-meta">
      <span class="entry-date date published updated">
        <time datetime="2007-01-12T23:27:33+08:00">
            January 12, 2007
        </time>
      </span>
      
    </div><!-- /.entry-meta -->
  </header>
  <div class="entry-content">
    <p>载入functions taglib
	&lt;%@ taglib uri=”http://java.sun.com/jsp/jstl/functions” prefix=”fn”%&gt;</p>

<p>计算collection的size
	${fn:length(your_collction)}</p>

<p>length函数的描述如下</p>
<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">fn.tld</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;function&gt;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;description&gt;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">      Returns the number of items in a collection, or the number of characters in a string.
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;/description&gt;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;name&gt;</span>length<span class="nt">&lt;/name&gt;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;function-class&gt;</span>org.apache.taglibs.standard.functions.Functions<span class="nt">&lt;/function-class&gt;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;function-signature&gt;</span>int length(java.lang.Object)<span class="nt">&lt;/function-signature&gt;</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;example&gt;</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">      You have $&#x7b;fn:length(shoppingCart.products)&#x7d; in your shopping cart.
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;/example&gt;</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line"> <span class="nt">&lt;/function&gt;</span></div></div></pre></div></figure>


		
  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<!-- pagination (a page1 folder isn't created by Jekyll.
To avoid 404s when going to the first page it must be
specified separately) -->

<div class="pagination">
  <ul>
    
      
        <li>
          <a href="/blog/page/7">&laquo;</a>
        </li>
      
    
    
      <li>
        <a href="/">1</a>
      </li>
    
    
      
        <li>
          <a href="/blog/page/2">2</a>
        </li>
      
    
      
        <li>
          <a href="/blog/page/3">3</a>
        </li>
      
    
      
        <li>
          <a href="/blog/page/4">4</a>
        </li>
      
    
      
        <li>
          <a href="/blog/page/5">5</a>
        </li>
      
    
      
        <li>
          <a href="/blog/page/6">6</a>
        </li>
      
    
      
        <li>
          <a href="/blog/page/7">7</a>
        </li>
      
    
      
        <li class="active">
          <a href="#">8</a>
        </li>
      
    
      
        <li>
          <a href="/blog/page/9">9</a>
        </li>
      
    
    
      <li>
        <a href="/blog/page/9">&raquo;</a>
      </li>
    
  </ul>
</div><!-- /.pagination -->

</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>Copyright &copy; 2016 <a href="mailto:%64%75%77%61%6E@%6C%69%76%65.%63%6F%6D" title="Contact me">Vangie Du</a> - All rights reserved.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="/assets/js/vendor/jquery-1.9.1.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="/assets/js/plugins/jquery.mmenu.min.all.js"></script>
<script src="/assets/js/scripts.min.js"></script>
<script src="/assets/js/main.js"></script>



<a style="position:fixed;bottom:5px;right:5px;font-size:4em;" href="#" title="Back to Top">
  <i class="icon-circle-arrow-up"></i>
</a>

<link rel="stylesheet" href="/assets/js/plugins/prettify/prettify.css">
<script src="/assets/js/plugins/prettify/prettify.js"></script>
<script type="text/javascript">
  $(function(){
    $("pre").addClass("prettyprint");
    prettyPrint();
  });
</script>

<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

</body>
</html>
